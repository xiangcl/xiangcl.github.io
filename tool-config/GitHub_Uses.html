<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="GMsZTqIe9hTE0zeMQRvithqQtn6iRgHbqVH21JfYNEs" />










  
  
    
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lato:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






  

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="GitHub,Git," />





  <link rel="alternate" href="/atom.xml" title="向常乐的Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="初始化git配置git
使用Git的第一件事就是设置你的名字和email,这些就是你在提交commit时的签名，每次提交记录里都会包含这些信息。使用git config命令进行配置

12[root@bogon ~]# git config --global user.name &amp;quot;xiangcl&amp;quot;[root@bogon ~]# git config --global user.">
<meta property="og:type" content="article">
<meta property="og:title" content="GitHub使用基本流程">
<meta property="og:url" content="http://xiangcl.com/tool-config/GitHub_Uses.html">
<meta property="og:site_name" content="向常乐的Blog">
<meta property="og:description" content="初始化git配置git
使用Git的第一件事就是设置你的名字和email,这些就是你在提交commit时的签名，每次提交记录里都会包含这些信息。使用git config命令进行配置

12[root@bogon ~]# git config --global user.name &amp;quot;xiangcl&amp;quot;[root@bogon ~]# git config --global user.">
<meta property="og:updated_time" content="2017-05-20T09:16:08.427Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="GitHub使用基本流程">
<meta name="twitter:description" content="初始化git配置git
使用Git的第一件事就是设置你的名字和email,这些就是你在提交commit时的签名，每次提交记录里都会包含这些信息。使用git config命令进行配置

12[root@bogon ~]# git config --global user.name &amp;quot;xiangcl&amp;quot;[root@bogon ~]# git config --global user.">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://xiangcl.com/tool-config/GitHub_Uses.html"/>


  <title> GitHub使用基本流程 | 向常乐的Blog </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-86793462-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?2f2c82bc4fe99249065382469fb4a3d1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59276703";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">向常乐的Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">知足者 常乐也！</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                GitHub使用基本流程
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-20T17:16:08+08:00" content="2017-05-20">
              2017-05-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/工具配置/" itemprop="url" rel="index">
                    <span itemprop="name">工具配置</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="初始化git"><a href="#初始化git" class="headerlink" title="初始化git"></a>初始化git</h1><h2 id="配置git"><a href="#配置git" class="headerlink" title="配置git"></a>配置git</h2><ul>
<li>使用Git的第一件事就是设置你的名字和email,这些就是你在提交commit时的签名，每次提交记录里都会包含这些信息。使用git config命令进行配置</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@bogon ~]# git config --global user.name &quot;xiangcl&quot;</div><div class="line">[root@bogon ~]# git config --global user.email &quot;xiangcl_cs@qq.com&quot;</div></pre></td></tr></table></figure>
<ul>
<li>执行了上面的命令后,会在家目录(<code>/root</code>)下建立一个叫<code>.gitconfig</code>的文件（该文件为隐藏文件，需要使用<code>ls -al</code>查看到）. 内容一般像下面这样，可以使用vim或cat查看文件内容:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@bogon ~]# cat .gitconfig</div><div class="line">[user]</div><div class="line">name = xiangcl</div><div class="line">email = xiangcl_cs@qq.com</div></pre></td></tr></table></figure>
<ul>
<li><p>上面的配置文件就是Git全局配置的文件，一般配置方法是<code>git config --global &lt;配置名称&gt; &lt;配置的值&gt;</code>。</p>
</li>
<li><p>如果你想使项目里的某个值与前面的全局设置有区别(例如把私人邮箱地址改为工作邮箱)，你可以在项目中使用<code>git config</code>命令不带<code>--global</code>选项来设置. 这会在你当前的项目目录下创建<code>.git/config</code>，从而使用针对当前项目的配置。</p>
</li>
</ul>
<h1 id="配置GitHub"><a href="#配置GitHub" class="headerlink" title="配置GitHub"></a>配置GitHub</h1><h2 id="注册GitHub"><a href="#注册GitHub" class="headerlink" title="注册GitHub"></a>注册GitHub</h2><p>后续有时间另写一篇教程，这里不在赘述…</p>
<h2 id="配置Git"><a href="#配置Git" class="headerlink" title="配置Git"></a>配置Git</h2><ul>
<li>在本地创建ssh key：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">ubuntu@VM-0-26-ubuntu:~$ sudo ssh-keygen -t rsa -C &quot;xiangcl_cs@qq.com&quot;</div><div class="line">Generating public/private rsa key pair.</div><div class="line">Enter file in which to save the key (/root/.ssh/id_rsa):</div><div class="line">Created directory &apos;/root/.ssh&apos;.</div><div class="line">Enter passphrase (empty for no passphrase):</div><div class="line">Enter same passphrase again:</div><div class="line">Your identification has been saved in /root/.ssh/id_rsa.</div><div class="line">Your public key has been saved in /root/.ssh/id_rsa.pub.</div><div class="line">The key fingerprint is:</div><div class="line">SHA256:Ia1lou/M0ZNnLW6Dly9+Ws1kX89Uq5eF9wUBgFGChDA xiangcl_cs@qq.com</div><div class="line">The key&apos;s randomart image is:</div><div class="line">+---[RSA 2048]----+</div><div class="line">|  E. o..o+o....  |</div><div class="line">|   .. ....     . |</div><div class="line">|      o =     . .|</div><div class="line">|     . * .     oo|</div><div class="line">|    . . S     +.*|</div><div class="line">|     . . . . =.=B|</div><div class="line">|      o +.+.o.oo=|</div><div class="line">|     + ..=*o. .  |</div><div class="line">|      +  ++*.    |</div><div class="line">+----[SHA256]-----+</div></pre></td></tr></table></figure>
<p>显示如上则表示创建成功。注意，上面命令中的邮箱<code>&quot;xiangcl_cs@qq.com&quot;</code>请更换为自己的邮箱，后面密钥设置密码，这里我无需设置，直接一路回车就行。</p>
<ul>
<li>设置成功会在 <code>/root/</code> 下生成一个<code>.ssh</code>文件，因为要进入 <code>/root</code> 目录，所以需要转为root身份：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">ubuntu@VM-0-26-ubuntu:~$ sudo -s</div><div class="line">root@VM-0-26-ubuntu:~# cd /root</div><div class="line">root@VM-0-26-ubuntu:/root# cd .ssh/</div><div class="line">root@VM-0-26-ubuntu:/root/.ssh# ls -l</div><div class="line">total 8</div><div class="line">-rw------- 1 root root 1675 May 18 16:14 id_rsa</div><div class="line">-rw-r--r-- 1 root root  399 May 18 16:14 id_rsa.pub</div></pre></td></tr></table></figure>
<ul>
<li>打开<code>id_rsa.pub</code>,复制里面的<code>key</code></li>
<li>然后粘贴至<code>GitHub，Settings/SSH and GPG keys/New SSH key</code></li>
<li>使用 <code>ssh -T git@github.com</code> 验证是否安装成功</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">root@VM-0-26-ubuntu:~# ssh -T git@github.com</div><div class="line">The authenticity of host &apos;github.com (192.30.253.112)&apos; can&apos;t be established.</div><div class="line">RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.</div><div class="line">Are you sure you want to continue connecting (yes/no)? yes</div><div class="line">Warning: Permanently added &apos;github.com,192.30.253.112&apos; (RSA) to the list of known hosts.</div><div class="line">Hi xiangcl! You&apos;ve successfully authenticated, but GitHub does not provide shell access.</div></pre></td></tr></table></figure>
<p>按提示输入yes，看到You’ve successfully authenticated, but GitHub does not provide shell access则表示连接成功。</p>
<h1 id="获取一个Git仓库"><a href="#获取一个Git仓库" class="headerlink" title="获取一个Git仓库"></a>获取一个Git仓库</h1><p>既然我们现在把一切都设置好了，那么我们需要一个Git仓库。有两种方法可以得到它：一种是从已有的Git仓库中clone (克隆，复制)；还有一种是新建一个仓库，把未进行版本控制的文件进行版本控制。</p>
<h2 id="Clone一个仓库"><a href="#Clone一个仓库" class="headerlink" title="Clone一个仓库"></a>Clone一个仓库</h2><ul>
<li><p>为了得一个项目的拷贝(copy),我们需要知道这个项目仓库的地址(Git URL). Git能在许多协议下使用，所以Git URL可能以<code>ssh://, http(s)://, git://</code>. 有些仓库可以通过不只一种协议来访问。</p>
</li>
<li><p>这里在我的GitHub上提供的一个名字为GitTest的仓库供大家测试的公有仓库，这个仓库可以使用下面方式进行clone：</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[root@bogon ~]# git clone https://github.com/xiangcl/GitTest.git</div><div class="line">正克隆到 &apos;GitTest&apos;...</div><div class="line">remote: Counting objects: 6, done.</div><div class="line">remote: Compressing objects: 100% (5/5), done.</div><div class="line">remote: Total 6 (delta 0), reused 0 (delta 0), pack-reused 0</div><div class="line">Unpacking objects: 100% (6/6), done.</div></pre></td></tr></table></figure>
<ul>
<li>clone操作完成后，会发现当前目录下多了一个GitTest的文件夹，这个文件夹里的内容就是我们刚刚clone下来的代码。由于当前<code>GitTest</code>仅是测试项目，里面仅有README.md和LICENSE文件。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@bogon ~]# cd GitTest/</div><div class="line">[root@bogon GitTest]# ls</div><div class="line">LICENSE  README.md</div></pre></td></tr></table></figure>
<h2 id="初始化一个新仓库"><a href="#初始化一个新仓库" class="headerlink" title="初始化一个新仓库"></a>初始化一个新仓库</h2><p>可以对一个已存在的文件夹用下面的命令让它置于Git的版本控制管理之下。</p>
<ul>
<li>创建代码目录project：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@bogon gitproject]# cd ~</div><div class="line"></div><div class="line">[root@bogon ~]# mkdir project</div></pre></td></tr></table></figure>
<ul>
<li>进入到代码目录，创建并初始化Git仓库：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@bogon ~]# cd project/</div><div class="line"></div><div class="line">[root@bogon project]# git init</div><div class="line"></div><div class="line">初始化空的 Git 版本库于 /root/project/.git/</div></pre></td></tr></table></figure>
<p>通过<code>ls -la</code>命令会发现<code>project</code>目录下会有一个名叫<code>.git</code>的目录被创建，这意味着一个仓库被初始化了。可以进入到<code>.git</code>目录查看下有哪些内容。</p>
<h1 id="Git工作流程"><a href="#Git工作流程" class="headerlink" title="Git工作流程"></a>Git工作流程</h1><p>git基本工作流程如下：</p>
<ol>
<li>创建或修改文件</li>
<li>使用<code>git add</code>命令添加新创建或修改的文件到本地的缓存区（Index）</li>
<li>使用<code>git commit</code>命令提交到本地代码库</li>
<li>（可选，有的时候并没有可以同步的远端代码库）使用<code>git push</code>命令将本地代码库同步到远端代码库</li>
</ol>
<ul>
<li>进入我们刚才建立的project目录，分别创建文件<code>file1，file2，file3</code>：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@bogon ~]# cd project/</div><div class="line"></div><div class="line">[root@bogon project]# touch file1 file2 file3</div></pre></td></tr></table></figure>
<ul>
<li>修改文件，可以使用vim编辑内容，也可以直接echo添加测试内容。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# echo &quot;test&quot; &gt;&gt; file1</div><div class="line"></div><div class="line">[root@bogon project]# echo &quot;test&quot; &gt;&gt; file2</div><div class="line"></div><div class="line">[root@bogon project]# echo &quot;test&quot; &gt;&gt; file3</div></pre></td></tr></table></figure>
<ul>
<li>此时可以使用<code>git status</code>命令查看当前git仓库的状态：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git status</div><div class="line"></div><div class="line"># 位于分支 master</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line"># 初始提交</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line"># 未跟踪的文件:</div><div class="line"></div><div class="line"># （使用 &quot;git add &lt;file&gt;...&quot; 以包含要提交的内容）</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line"># file1</div><div class="line"></div><div class="line"># file2</div><div class="line"></div><div class="line"># file3</div><div class="line"></div><div class="line">提交为空，但是存在尚未跟踪的文件（使用 &quot;git add&quot; 建立跟踪）</div></pre></td></tr></table></figure>
<p>可以发现，有三个文件处于未跟踪(untracked)状态，下一步我们就需要用<code>git add</code>命令将他们加入到缓存区（Index）。</p>
<ul>
<li>使用<code>git add</code>命令将新建的文件添加到：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git add file1 file2 file3</div></pre></td></tr></table></figure>
<ul>
<li>然后再次执行<code>git status</code>就会发现新的变化：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git status</div><div class="line"></div><div class="line"># 位于分支 master</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line"># 初始提交</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line"># 要提交的变更：</div><div class="line"></div><div class="line"># （使用 &quot;git rm --cached &lt;file&gt;...&quot; 撤出暂存区）</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line"># 新文件： file1</div><div class="line"></div><div class="line"># 新文件： file2</div><div class="line"></div><div class="line"># 新文件： file3</div><div class="line"></div><div class="line">#</div></pre></td></tr></table></figure>
<ul>
<li>你现在为commit做好了准备，你可以使用 <code>git diff</code> 命令再加上 –cached 参数，看看缓存区中哪些文件被修改了。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git diff --cached</div></pre></td></tr></table></figure>
<p>如果没有<code>--cached</code>参数，<code>git diff</code> 会显示当前你所有已做的但没有加入到索引里的修改。</p>
<p>如果你要做进一步的修改, 那就继续做, 做完后就把新修改的文件加入到缓存区中。</p>
<ul>
<li>当所有新建，修改的文件都被添加到了缓存区，我们就要使用<code>git commit</code>提交到本地仓库：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git commit -m &quot;add 3 files&quot;</div><div class="line"></div><div class="line">[master（根提交） bbb9a52] add 3 files</div><div class="line"></div><div class="line"> 3 files changed, 3 insertions(+)</div><div class="line"></div><div class="line"> create mode 100644 file1</div><div class="line"></div><div class="line"> create mode 100644 file2</div><div class="line"></div><div class="line"> create mode 100644 file3</div></pre></td></tr></table></figure>
<p>需要使用<code>-m</code>添加本次修改的注释，完成后就会记录一个新的项目版本。</p>
<ul>
<li>除了用<code>git add</code>命令，我们还可以用下面的命令将所有没有加到缓存区的修改也一起提交，但-a命令不会添加新建的文件。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git commit -a -m &quot;add 3 files&quot;</div></pre></td></tr></table></figure>
<p>再次输入<code>git status</code>查看状态，会发现当前的代码库已经没有待提交的文件了，缓存区已经被清空。</p>
<p>至此，我们完成了第一次代码提交，这次提交的代码中我们创建了三个新文件。需要注意的是如果是修改文件，也需要使用<code>git add</code>命令添加到缓存区才可以提交。如果是删除文件，则直接使用<code>git rm</code>命令删除后会自动将已删除文件的信息添加到缓存区，<code>git commit</code>提交后就会将本地仓库中的对应文件删除。</p>
<h3 id="为你的项目添加一个新的远程仓库"><a href="#为你的项目添加一个新的远程仓库" class="headerlink" title="为你的项目添加一个新的远程仓库"></a>为你的项目添加一个新的远程仓库</h3><p>本地仓库是创建完成了，现在需要与远程的仓库进行链接。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git remote</div><div class="line">[root@bogon project]# git remote add origin git@github.com:xiangcl/project.git</div><div class="line">[root@bogon project]# git remote -v</div><div class="line">origin	git@github.com:xiangcl/project.git (fetch)</div><div class="line">origin	git@github.com:xiangcl/project.git (push)</div></pre></td></tr></table></figure></p>
<h3 id="推送到远程仓库"><a href="#推送到远程仓库" class="headerlink" title="推送到远程仓库"></a>推送到远程仓库</h3><p>这个时候如果本地的仓库连接到了远程Git服务器，可以使用下面的命令将本地仓库同步到远端服务器：(注意，需要与远程仓库连接)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git push -u origin master</div><div class="line">Warning: Permanently added the RSA host key for IP address &apos;192.30.255.113&apos; to the list of known hosts.</div><div class="line">Counting objects: 14, done.</div><div class="line">Delta compression using up to 4 threads.</div><div class="line">Compressing objects: 100% (10/10), done.</div><div class="line">Writing objects: 100% (14/14), 1.16 KiB | 0 bytes/s, done.</div><div class="line">Total 14 (delta 2), reused 0 (delta 0)</div><div class="line">remote: Resolving deltas: 100% (2/2), done.</div><div class="line">To git@github.com:xiangcl/project.git</div><div class="line"> * [new branch]      master -&gt; master</div><div class="line">分支 master 设置为跟踪来自 origin 的远程分支 master。</div></pre></td></tr></table></figure>
<p>上面使用<code>git push</code>时带上了<code>-u</code>参数，是将本地的master分支推送到origin主机，同时指定origin为默认主机，后面就可以不加任何参数使用git push了。</p>
<h3 id="从远端仓库下载新分支与数据"><a href="#从远端仓库下载新分支与数据" class="headerlink" title="从远端仓库下载新分支与数据"></a>从远端仓库下载新分支与数据</h3><ul>
<li><code>git fetch</code>会访问远程仓库，从中拉取所有你还没有的数据。 执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git remote -v</div><div class="line">origin	git@github.com:xiangcl/project.git (fetch)</div><div class="line">origin	git@github.com:xiangcl/project.git (push)</div><div class="line">[root@bogon project]# git fetch origin </div><div class="line">remote: Counting objects: 3, done.</div><div class="line">remote: Compressing objects: 100% (2/2), done.</div><div class="line">remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0</div><div class="line">Unpacking objects: 100% (3/3), done.</div><div class="line">来自 github.com:xiangcl/project</div><div class="line">   6c3b072..4d38d99  master     -&gt; origin/master</div></pre></td></tr></table></figure>
</li>
</ul>
<p><code>git fetch origin</code>会抓取从你上次克隆以来别人上传到此远程仓库中的所有更新（或是上次 fetch 以来别人提交的更新）。有一点很重要，需要记住，fetch 命令只是将远端的数据拉到本地仓库，并不自动合并到当前工作分支，只有当你确实准备好了，才能手工合并。</p>
<ul>
<li>查看分支<br>git branch命令的-r选项，可以用来查看远程分支，-a选项查看所有分支。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git branch -r </div><div class="line">  origin/master</div><div class="line"></div><div class="line">[root@bogon project]# git branch -a</div><div class="line">* master</div><div class="line">  remotes/origin/master</div></pre></td></tr></table></figure>
</li>
</ul>
<p>上面命令表示，本地主机的当前分支是master，远程分支是origin/master。</p>
<ul>
<li>取回远程主机的更新以后，可以在它的基础上，使用<code>git checkout</code>命令创建一个新的分支。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git checkout -b newBrack origin/master </div><div class="line">分支 newBrack 设置为跟踪来自 origin 的远程分支 master。</div><div class="line">切换到一个新分支 &apos;newBrack&apos;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>上面命令表示，在origin/master的基础上，创建一个新分支。</p>
<ul>
<li>此外，也可以使用<code>git merge</code>命令或者<code>git rebase</code>命令，在本地分支上合并远程分支。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git merge origin/master </div><div class="line">Already up-to-date.</div><div class="line"></div><div class="line">[root@bogon project]# ls</div><div class="line">file1  file2  file3  README.md</div></pre></td></tr></table></figure>
</li>
</ul>
<p>上面命令表示在当前分支上，合并origin/master。此时使用<code>ls</code>就可以查看到我刚刚在仓库段创建的README.md文件了</p>
<h1 id="分支与合并"><a href="#分支与合并" class="headerlink" title="分支与合并"></a>分支与合并</h1><p>Git的分支可以让你在主线（master分支）之外进行代码提交，同时又不会影响代码库主线。分支的作用体现在多人协作开发中，比如一个团队开发软件，你负责独立的一个功能需要一个月的时间来完成，你就可以创建一个分支，只把该功能的代码提交到这个分支，而其他同事仍然可以继续使用主线开发，你每天的提交不会对他们造成任何影响。当你完成功能后，测试通过再把你的功能分支合并到主线。</p>
<h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><ul>
<li>一个Git仓库可以维护很多开发分支。现在我们来创建一个新的叫 experimental的分支：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git branch experimental</div></pre></td></tr></table></figure>
<ul>
<li>运行git branch命令可以查看当前的分支列表，已经目前的开发环境处在哪个分支上：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git branch</div><div class="line">  experimental</div><div class="line">* master</div></pre></td></tr></table></figure>
<ul>
<li>experimental 分支是你刚才创建的，master分支是Git系统默认创建的主分支。星号标识了你当工作在哪个分支下，输入git checkout 分支名可以切换到其他分支：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git checkout experimental</div><div class="line">切换到分支 &apos;experimental&apos;</div></pre></td></tr></table></figure>
<ul>
<li>切换到experimental分支，切换完成后，先编辑里面的一个文件，再提交(commit)改动，最后切换回 “master”分支：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# echo &quot;update&quot; &gt;&gt; file1 # 修改file1文件</div><div class="line">[root@bogon project]# git status # 使用 git status 查看当前状态</div><div class="line"># 位于分支 experimental</div><div class="line"># 尚未暂存以备提交的变更：</div><div class="line"># （使用 &quot;git add &lt;file&gt;...&quot; 更新要提交的内容）</div><div class="line"># （使用 &quot;git checkout -- &lt;file&gt;...&quot; 丢弃工作区的改动）</div><div class="line">#</div><div class="line"># 修改： file1</div><div class="line">#</div><div class="line">修改尚未加入提交（使用 &quot;git add&quot; 和/或 &quot;git commit -a&quot;）</div><div class="line">[root@bogon project]# git add file1 # 添加并提交file1的更改</div><div class="line">[root@bogon project]# git commit -m &quot;update file1&quot;</div><div class="line">[experimental 3251fbe] update file1</div><div class="line"> 1 file changed, 1 insertion(+)</div><div class="line">[root@bogon project]# cat file1 #查看file1文件的内容</div><div class="line">test</div><div class="line">update</div><div class="line">[root@bogon project]# git checkout master #切换至master分支</div><div class="line"></div><div class="line">切换到分支 &apos;master&apos;</div></pre></td></tr></table></figure>
<p>查看下file1中的内容会发现刚才做的修改已经看不到了。因为刚才的修改时在experimental分支下，现在切换回了master分支，目录下的文件都是master分支上的文件了。</p>
<ul>
<li>现在可以在master分支下再作一些不同的修改:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# echo &apos;update again&apos; &gt;&gt; file2 #修改file2文件</div><div class="line"></div><div class="line">[root@bogon project]# git status #查看当前状态</div><div class="line"></div><div class="line"># 位于分支 master</div><div class="line"></div><div class="line"># 尚未暂存以备提交的变更：</div><div class="line"></div><div class="line"># （使用 &quot;git add &lt;file&gt;...&quot; 更新要提交的内容）</div><div class="line"></div><div class="line"># （使用 &quot;git checkout -- &lt;file&gt;...&quot; 丢弃工作区的改动）</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line"># 修改： file2</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line">修改尚未加入提交（使用 &quot;git add&quot; 和/或 &quot;git commit -a&quot;）</div><div class="line"></div><div class="line">[root@bogon project]# git add file2 #添加并调教file2的修改</div><div class="line"></div><div class="line">[root@bogon project]# git commit -m &quot;update file2 on master&quot;</div><div class="line"></div><div class="line">[master 7f50340] update file2 on master</div><div class="line"></div><div class="line"> 1 file changed, 1 insertion(+)</div><div class="line"></div><div class="line">[root@bogon project]# cat file2 #查看file2的修改</div><div class="line"></div><div class="line">test</div><div class="line"></div><div class="line">update again</div></pre></td></tr></table></figure>
<p>这时，两个分支就有了各自不同的修改，分支的内容都已经不同，如何将多个分支进行合并呢？</p>
<ul>
<li>可以通过下面的git merge命令来合并experimental到主线分支master:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git checkout master # 切换至master 分支</div><div class="line"></div><div class="line">已经位于 &apos;master&apos;</div><div class="line"></div><div class="line">[root@bogon project]# git merge -m &quot;merge experimental branch&quot; experimental #将 experimental 分支合并至master分区</div><div class="line"></div><div class="line">Merge made by the &apos;recursive&apos; strategy.</div><div class="line"></div><div class="line"> file1 | 1 +</div><div class="line"></div><div class="line"> 1 file changed, 1 insertion(+)</div></pre></td></tr></table></figure>
<p>-m参数仍然是需要填写合并的注释信息。</p>
<p>由于两个branch修改了两个不同的文件，所以合并时不会有冲突，执行上面的命令后合并就完成了。</p>
<ul>
<li>如果有冲突，比如两个分支都改了一个文件file3，则合并时会失败。首先我们在master分支上修改file3文件并提交：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git checkout master # 切换至 master 分区</div><div class="line"></div><div class="line">已经位于 &apos;master&apos;</div><div class="line"></div><div class="line">[root@bogon project]# echo &quot;master:update file3&quot; &gt;&gt; file3 # 修改 file3 文件</div><div class="line"></div><div class="line">[root@bogon project]# git status # 查看当前状态</div><div class="line"></div><div class="line"># 位于分支 master</div><div class="line"></div><div class="line"># 尚未暂存以备提交的变更：</div><div class="line"></div><div class="line"># （使用 &quot;git add &lt;file&gt;...&quot; 更新要提交的内容）</div><div class="line"></div><div class="line"># （使用 &quot;git checkout -- &lt;file&gt;...&quot; 丢弃工作区的改动）</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line"># 修改： file3</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line">修改尚未加入提交（使用 &quot;git add&quot; 和/或 &quot;git commit -a&quot;）</div><div class="line"></div><div class="line">[root@bogon project]# git commit -a -m &apos;update file3 on master&apos; #提交至master分区</div><div class="line"></div><div class="line">[master 2922456] update file3 on master</div><div class="line"></div><div class="line"> 1 file changed, 1 insertion(+)</div><div class="line"></div><div class="line">[root@bogon project]# git status #在次查看状态</div><div class="line"></div><div class="line"># 位于分支 master</div><div class="line"></div><div class="line">无文件要提交，干净的工作区</div></pre></td></tr></table></figure>
<ul>
<li>然后切换到experimental，修改file3并提交：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git checkout experimental # 切换至 experimental 分支</div><div class="line">切换到分支 &apos;experimental&apos;</div><div class="line">[root@bogon project]# echo &quot;experimental: update file3&quot; &gt;&gt; file3 # 修改 file3 文本</div><div class="line">[root@bogon project]# git commit -a -m &apos;update file3 on experimental&apos; # 提交至experimental 分支</div><div class="line">[experimental e511488] update file3 on experimental</div><div class="line"> 1 file changed, 1 insertion(+)</div></pre></td></tr></table></figure>
<ul>
<li>切换到master进行合并：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git checkout master # 切换至 master 分支</div><div class="line">切换到分支 &apos;master&apos;</div><div class="line">[root@bogon project]# git merge experimental # 合并分支</div><div class="line">自动合并 file3</div><div class="line">冲突（内容）：合并冲突于 file3</div><div class="line">自动合并失败，修正冲突然后提交修正的结果。</div></pre></td></tr></table></figure>
<ul>
<li>合并失败后先用git status查看状态，会发现file3显示为both modified，查看file3内容会发现：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git status #查看状态</div><div class="line"># 位于分支 master</div><div class="line"># 您有尚未合并的路径。</div><div class="line"># （解决冲突并运行 &quot;git commit&quot;）</div><div class="line">#</div><div class="line"># 未合并的路径：</div><div class="line"># （使用 &quot;git add &lt;file&gt;...&quot; 标记解决方案）</div><div class="line">#</div><div class="line"># 双方修改： file3</div><div class="line">#</div><div class="line">修改尚未加入提交（使用 &quot;git add&quot; 和/或 &quot;git commit -a&quot;）</div><div class="line">[root@bogon project]# cat file3 # 查看产生冲突的文件</div><div class="line">test</div><div class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</div><div class="line">master:update file3</div><div class="line">=======</div><div class="line">experimental: update file3</div><div class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; experimental</div></pre></td></tr></table></figure>
<p>上面的内容也可以使用git diff查看，先前已经提到git diff不加参数可以显示未提交到缓存区中的修改内容。</p>
<ul>
<li>可以看到冲突的内容都被添加到了file3中，我们使用vim编辑这个文件，去掉git自动产生标志冲突的&lt;&lt;&lt;&lt;&lt;&lt;等符号后，根据需要只保留我们需要的内容后保存，然后使用git add file3和git commit命令来提交合并后的file3内容，这个过程是手动解决冲突的流程。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# vim file3 # 使用 vim 打开文件修改</div><div class="line"></div><div class="line">[root@bogon project]# git status #查看状态</div><div class="line"></div><div class="line"># 位于分支 master</div><div class="line"></div><div class="line"># 您有尚未合并的路径。</div><div class="line"></div><div class="line"># （解决冲突并运行 &quot;git commit&quot;）</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line"># 未合并的路径：</div><div class="line"></div><div class="line"># （使用 &quot;git add &lt;file&gt;...&quot; 标记解决方案）</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line"># 双方修改： file3</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line">修改尚未加入提交（使用 &quot;git add&quot; 和/或 &quot;git commit -a&quot;）</div><div class="line"></div><div class="line">[root@bogon project]# git add file3 # 将文件加入缓存</div><div class="line"></div><div class="line">[root@bogon project]# git status # 再次查看状态</div><div class="line"></div><div class="line"># 位于分支 master</div><div class="line"></div><div class="line"># 所有冲突已解决但您仍处于合并中。</div><div class="line"></div><div class="line"># （使用 &quot;git commit&quot; 结束合并）</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line"># 要提交的变更：</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line"># 修改： file3</div><div class="line"></div><div class="line">#</div><div class="line"></div><div class="line">[root@bogon project]# git commit -m &apos;merge file3&apos; # 提交修改的文件</div><div class="line"></div><div class="line">[master 6b63f36] merge file3</div></pre></td></tr></table></figure>
<ul>
<li>当我们完成合并后，不再需要experimental时，可以使用下面的命令删除：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git branch -d experimental</div><div class="line">已删除分支 experimental（曾为 e511488）。</div></pre></td></tr></table></figure>
<p>git branch -d只能删除那些已经被当前分支的合并的分支. 如果你要强制删除某个分支的话就用git branch –D</p>
<h2 id="撤销一个合并"><a href="#撤销一个合并" class="headerlink" title="撤销一个合并"></a>撤销一个合并</h2><ul>
<li>如果你觉得你合并后的状态是一团乱麻，想把当前的修改都放弃，你可以用下面的命令回到合并之前的状态：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@bogon project]# git reset --hard HEAD^</div><div class="line">HEAD 现在位于 2922456 update file3 on master</div><div class="line">[root@bogon project]# cat file3</div><div class="line">test</div><div class="line">master:update file3</div></pre></td></tr></table></figure>
<h2 id="推送至远程仓库"><a href="#推送至远程仓库" class="headerlink" title="推送至远程仓库"></a>推送至远程仓库</h2><ul>
<li>在本机完成改动后就可以提交到远程仓库了</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push origin master</div></pre></td></tr></table></figure>
<p>可以把 master 换成你想要推送的任何分支。 </p>
<ul>
<li>如果你还没有克隆现有仓库，并欲将你的仓库连接到某个远程服务器，你可以使用如下命令添加：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git remote add origin &lt;server&gt;</div></pre></td></tr></table></figure>
<p>如此你就能够将你的改动推送到所添加的服务器上去了。</p>
<h2 id="更新与合并"><a href="#更新与合并" class="headerlink" title="更新与合并"></a>更新与合并</h2><ul>
<li>要更新你的本地仓库至最新改动，执行：</li>
</ul>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git pull</span></div></pre></td></tr></table></figure>
<p>以在你的工作目录中 获取（fetch） 并 合并（merge） 远端的改动。</p>
<ul>
<li>要合并其他分支到你的当前分支（例如 master），执行：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git merge &lt;branch&gt;</div></pre></td></tr></table></figure>
<ul>
<li>在这两种情况下，git 都会尝试去自动合并改动。遗憾的是，这可能并非每次都成功，并可能出现冲突（conflicts）。 这时候就需要你修改这些文件来手动合并这些冲突（conflicts）。改完之后，你需要执行如下命令以将它们标记为合并成功：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git add &lt;filename&gt;</div></pre></td></tr></table></figure>
<ul>
<li>在合并改动之前，你可以使用如下命令预览差异：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git diff &lt;source_branch&gt; &lt;target_branch&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>参考：<a href="https://git-scm.com/book/zh/v2" target="_blank" rel="external">Git Pro</a>、<a href="http://www.ruanyifeng.com/blog/2014/06/git_remote.html" target="_blank" rel="external">阮一峰的网络日志</a></p>
</blockquote>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/GitHub/" rel="tag">#GitHub</a>
          
            <a href="/tags/Git/" rel="tag">#Git</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/linux-collection/linux-problem-four.html" rel="next" title="关于登录Linux出现 bash4.2$ 的问题">
                <i class="fa fa-chevron-left"></i> 关于登录Linux出现 bash4.2$ 的问题
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/linux-collection/linux-problem-fives.html" rel="prev" title="五：CentOS7安装出现Warning">
                五：CentOS7安装出现Warning <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/touxiang.jpg"
               alt="向常乐" />
          <p class="site-author-name" itemprop="name">向常乐</p>
          <p class="site-description motion-element" itemprop="description">向常乐的个人Blog</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">21</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/xiangcl" target="_blank" rel="external nofollow"  title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/xiangcle" target="_blank" rel="external nofollow"  title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://segmentfault.com/u/xiangcl" title="Segmentfault" target="_blank">Segmentfault</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#初始化git"><span class="nav-number">1.</span> <span class="nav-text">初始化git</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#配置git"><span class="nav-number">1.1.</span> <span class="nav-text">配置git</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#配置GitHub"><span class="nav-number">2.</span> <span class="nav-text">配置GitHub</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#注册GitHub"><span class="nav-number">2.1.</span> <span class="nav-text">注册GitHub</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置Git"><span class="nav-number">2.2.</span> <span class="nav-text">配置Git</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#获取一个Git仓库"><span class="nav-number">3.</span> <span class="nav-text">获取一个Git仓库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Clone一个仓库"><span class="nav-number">3.1.</span> <span class="nav-text">Clone一个仓库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#初始化一个新仓库"><span class="nav-number">3.2.</span> <span class="nav-text">初始化一个新仓库</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git工作流程"><span class="nav-number">4.</span> <span class="nav-text">Git工作流程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#为你的项目添加一个新的远程仓库"><span class="nav-number">4.0.1.</span> <span class="nav-text">为你的项目添加一个新的远程仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#推送到远程仓库"><span class="nav-number">4.0.2.</span> <span class="nav-text">推送到远程仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#从远端仓库下载新分支与数据"><span class="nav-number">4.0.3.</span> <span class="nav-text">从远端仓库下载新分支与数据</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#分支与合并"><span class="nav-number">5.</span> <span class="nav-text">分支与合并</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#分支"><span class="nav-number">5.1.</span> <span class="nav-text">分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#撤销一个合并"><span class="nav-number">5.2.</span> <span class="nav-text">撤销一个合并</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#推送至远程仓库"><span class="nav-number">5.3.</span> <span class="nav-text">推送至远程仓库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#更新与合并"><span class="nav-number">5.4.</span> <span class="nav-text">更新与合并</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">向常乐</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io" rel="external nofollow">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  




  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = false;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = decodeURIComponent(data.url);
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title >= 0 || index_content >= 0 ){
                                isMatch = true;
								if (i == 0) {
                                    first_occur = index_content;
                                }
                            } 
							
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  


</body>
</html>
